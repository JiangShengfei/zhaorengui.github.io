
<!doctype html>














<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/assets/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/assets/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/assets/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Subversion,Git,GitHub," />





  <link rel="alternate" href="/atom.xml" title="Rengui's Article" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico?v=5.1.1" />
















<meta name="description" content="常用版本控制软件使用笔记">
<meta name="keywords" content="Subversion, Git, GitHub">
<meta property="og:type" content="article">
<meta property="og:title" content="Subversion、Git和GitHub">
<meta property="og:url" content="http://localhost:4000/software/2014/07/28/revision-control/">
<meta property="og:site_name" content="Rengui's Article">
<meta property="og:description" content="常用版本控制软件使用笔记">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="../../../../../assets/images/sshkeys.png">
<meta property="og:image" content="../../../../../assets/images/commit1.png">
<meta property="og:image" content="../../../../../assets/images/trees.png">
<meta property="og:image" content="../../../../../assets/images/branches.png">
<meta property="og:image" content="../../../../../assets/images/git-branch01.png">
<meta property="og:image" content="../../../../../assets/images/git-branch02.png">
<meta property="og:image" content="../../../../../assets/images/git-branch03.png">
<meta property="og:image" content="../../../../../assets/images/git-branch04.png">
<meta property="og:image" content="../../../../../assets/images/git-branch05.png">
<meta property="og:image" content="../../../../../assets/images/git-branch06.png">
<meta property="og:image" content="../../../../../assets/images/git-branch07.png">
<meta property="og:image" content="../../../../../assets/images/git-branch08.png">
<meta property="og:image" content="../../../../../assets/images/git-branch09.png">
<meta property="og:image" content="../../../../../assets/images/git-branch10.png">
<meta property="og:image" content="../../../../../assets/images/git-branch11.png">
<meta property="og:image" content="../../../../../assets/images/git-branch12.png">
<meta property="og:image" content="../../../../../assets/images/git-branch13.png">
<meta property="og:image" content="../../../../../assets/images/git-branch14.png">
<meta property="og:image" content="../../../../../assets/images/git-branch15.png">
<meta property="og:image" content="../../../../../assets/images/git-branch16.png">
<meta property="og:image" content="../../../../../assets/images/git-branch17.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Subversion、Git和GitHub">
<meta name="twitter:description" content="常用版本控制软件使用笔记">
<meta name="twitter:image" content="../../../../../assets/images/sshkeys.png">


<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://localhost:4000/"/>





  <title>Subversion、Git和GitHub | Rengui's Article</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-123739978-1', 'auto');
  ga('send', 'pageview');
</script>













</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Rengui's Article</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Blog, Article</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

<div id="posts" class="posts-expand">
  
  

  

  
  
  

  <article class="post post-type- " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://localhost:4000/software/2014/07/28/revision-control/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhao Rengui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/assets/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Rengui's Article">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
          
          
            Subversion、Git和GitHub
          
        </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-07-28T00:00:00+08:00">
                2014-07-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/category/#/software" itemprop="url" rel="index">
                    <span itemprop="name">software</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          
            
                <div class="post-description">
                    常用版本控制软件使用笔记
                </div>
            
          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
  
  












  <p>
如果你有任何问题，可以发邮件到zrg1390556487@gmail.com。
</p>

<div id="outline-container-orgfa9fcd3" class="outline-2">
<h2 id="orgfa9fcd3">Subversion</h2>
<div class="outline-text-2" id="text-orgfa9fcd3">
</div>
<div id="outline-container-orgf57f991" class="outline-3">
<h3 id="orgf57f991">下载</h3>
<div class="outline-text-3" id="text-orgf57f991">
<pre class="example">
//官网地址
http://subversion.apache.org/
https://tortoisesvn.net/

</pre>
</div>
</div>
<div id="outline-container-org5102fb5" class="outline-3">
<h3 id="org5102fb5">TortoiseSVN进行增量发布</h3>
<div class="outline-text-3" id="text-org5102fb5">
<pre class="example">
1.右键》选择TortoiseSVN-&gt;Show Log（显示日志）
2.选中更新版本段》右键选择Compare revisions（版本比较）
3.全选》右键选择Export selection to…（导出所选文件到…）

</pre>
</div>
</div>
</div>
<div id="outline-container-orgd317888" class="outline-2">
<h2 id="orgd317888">GitHub</h2>
<div class="outline-text-2" id="text-orgd317888">
</div>
<div id="outline-container-org5c219fd" class="outline-3">
<h3 id="org5c219fd">简单介绍</h3>
<div class="outline-text-3" id="text-org5c219fd">
<pre class="example">
官网地址：https://github.com/

</pre>

<pre class="example">
GitHub是一个利用Git进行版本控制、专门用于存放软件代码与内容的共享虚拟主机服务。它由GitHub公司（曾称Logical Awesome）的开发者Chris Wanstrath、PJ Hyett和Tom Preston-Werner使用Ruby on Rails编写而成。

</pre>

<pre class="example">
GitHub同时提供付费账户和免费账户。

</pre>
</div>
</div>
<div id="outline-container-orge1e2b47" class="outline-3">
<h3 id="orge1e2b47">Git vs SVN</h3>
<div class="outline-text-3" id="text-orge1e2b47">
<pre class="example">
1.Git是分布式的，SVN不是；
2.Git把内容按元数据方式存储，而SVN是按文件；
3.Git分支与SVN的分支不同；
4.Git没有一个全局的版本号，而SVN有；
5.Git的内容完整性要优于SVN：Git内容存储使用的是SHA-1算法。。

</pre>
</div>
</div>
<div id="outline-container-orga565e0f" class="outline-3">
<h3 id="orga565e0f">一些基本概念</h3>
<div class="outline-text-3" id="text-orga565e0f">
<pre class="example">
1.Repository(仓库)：用于存放项目源代码。

</pre>

<pre class="example">
2.Star(收藏)：收藏项目

</pre>

<pre class="example">
3.Fork(复制克隆项目)

</pre>

<pre class="example">
4.Pull Request(发送请求)：基于Fork，修改或删除代码提交请求。

</pre>

<pre class="example">
5.Watch(关注)：假设项目有任何更新，第一时间收到通知消息。

</pre>

<pre class="example">
6.Issue(事务卡片)：发现了代码存在BUG，但是目前没有成型代码，需要讨论时使用。

</pre>
</div>
</div>
<div id="outline-container-org9b3c222" class="outline-3">
<h3 id="org9b3c222">上传代码方式</h3>
<div class="outline-text-3" id="text-org9b3c222">
</div>
<div id="outline-container-org5cffc39" class="outline-4">
<h4 id="org5cffc39">SSH方式传输</h4>
<div class="outline-text-4" id="text-org5cffc39">
<pre class="example">
//使用SSH方式，在提交时，不需要输入用户名和密码。

</pre>

<pre class="example">
1.首先在本地创建ssh key，一直回车。
$ ssh-keygen -t rsa -C "your_email@youremail.com"
//成功的话会在~/目录下生成.ssh文件夹，进入.ssh目录，打开id_rsa.pub文件，复制里面的key。

</pre>

<pre class="example">
2.进入github官网上，点击个人中心的 Account Settings（账户配置），左边选择"SSH Keys" &gt; "Add SSH Key",title自定义填写，然后将复制的key粘贴到GitHub的文本框中。下面是添加好的SSH Keys示例：

</pre>

<div class="figure">
<p><img src="../../../../../assets/images/sshkeys.png" alt="sshkeys.png" />
</p>
</div>

<pre class="example">
3.验证是否成功:
$ ssh -T git@github.com 

</pre>
</div>
</div>
<div id="outline-container-org900a149" class="outline-4">
<h4 id="org900a149">HTTPS方式传输</h4>
<div class="outline-text-4" id="text-org900a149">
<pre class="example">
使用条件：1）本地配置了global；2）需要输入用户名和密码推送代码

</pre>
</div>
</div>
<div id="outline-container-org2deb100" class="outline-4">
<h4 id="org2deb100">配置免登录提交代码</h4>
<div class="outline-text-4" id="text-org2deb100">
<pre class="example">
$ vim .git/config

</pre>
<div class="org-src-container">
<pre class="src src-emacs-lisp">[remote <span style="color: #5c3566;">"origin"</span>]
    url=https://github.com/&#29992;&#25143;&#21517;/&#20179;&#24211;&#21517;.git
&#20462;&#25913;&#20026;&#65306;
[remote <span style="color: #5c3566;">"origin"</span>]
    url=https://&#29992;&#25143;&#21517;:&#23494;&#30721;@github.com/&#29992;&#25143;&#21517;/&#20179;&#24211;&#21517;.git
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc04fea6" class="outline-3">
<h3 id="orgc04fea6">开源项目贡献流程</h3>
<div class="outline-text-3" id="text-orgc04fea6">
<pre class="example">
1.新建Issue：提交问题或建议或想法。
2.Pull Request：Fork项目，修改代码，发起修改请求。

</pre>
</div>
</div>
</div>
<div id="outline-container-orgf61f8c7" class="outline-2">
<h2 id="orgf61f8c7">Git</h2>
<div class="outline-text-2" id="text-orgf61f8c7">
</div>
<div id="outline-container-org97189dd" class="outline-3">
<h3 id="org97189dd">安装&amp;配置</h3>
<div class="outline-text-3" id="text-org97189dd">
<pre class="example">
1.Ubuntu 10.10(maverick)或更新版本，Debian(squeeze)或更新版本：
$ sudo aptitude install git
$ sudo aptitude install git-doc git-svn git-email gitk

2.Ubuntu 10.04(lucid)或更老版本，Debian(lenny)或更老版本：
$ sudo aptitude install git-core
$ sudo aptitude install git-doc git-svn git-email gitk

3.RHEL、Fedora、CentOS:
$ yum install git
$ yum install git-svn git-email gitk

</pre>

<pre class="example">
//查看版本
$ git --version

</pre>

<pre class="example">
4.配置git
//设置username和email，因为github每次commit都会记录他们。
$ git config --global user.name "your name" //配置用户名
$ git config --global user.email "your_email@youremail.com" //配置邮箱

</pre>

<pre class="example">
//中文支持UTF-8：
$ git config --global core.quotepath false
//中文支持GBK：
$ git config --global i18n.logOutputEncoding gbk
//录入提交说明的字符集：
$ git config --global i18n.commitEncoding gbk

</pre>

<pre class="example">
//查看配置信息
$ git config -l

</pre>

<pre class="example">
//删除配置
$ git config --unset --global user.name
$ git config --unset --global user.email

</pre>
</div>
</div>
<div id="outline-container-orge69ed35" class="outline-3">
<h3 id="orge69ed35">一些基本操作</h3>
<div class="outline-text-3" id="text-orge69ed35">
<pre class="example">
//仓库初始化：新建目录，进入，执行如下命令：
$ git init
//查看仓库状态
$git status

</pre>

<pre class="example">
//检出仓库（本地）
$ git clone /path/to/repository
//检出仓库（远端）
$ git clone username@host:/path/to/repository
$ git clone git@github.com:xxx/hello_world.git //GitHub
//拉取仓库（分支）内容(update)
$ git pull
$ git pull orgion feature-A

</pre>

<pre class="example">
//本地删除文件
$ rm test.php
//从Git仓库中删除文件
$ git rm test.php

</pre>

<pre class="example">
//修改后添加到暂存区
$ git add -A
//从暂存区提交到本地仓库分支
$ git commit -m "..."
//推送到远端仓库
$ git push

</pre>
</div>
</div>
<div id="outline-container-org3eb4e72" class="outline-3">
<h3 id="org3eb4e72">提交过程操作</h3>
<div class="outline-text-3" id="text-org3eb4e72">
</div>
<div id="outline-container-orgb6f8942" class="outline-4">
<h4 id="orgb6f8942">工作流</h4>
<div class="outline-text-4" id="text-orgb6f8942">
<pre class="example">
你的本地仓库由 git 维护的三棵“树”组成
第一个是你的工作目录，它持有实际文；
第二个是 缓存区（Index），它像个缓存区域，临时保存你的改动；
最后是 HEAD，指向你最近一次提交后的结果。

</pre>

<div class="figure">
<p><img src="../../../../../assets/images/commit1.png" alt="commit1.png" />
</p>
</div>


<div class="figure">
<p><img src="../../../../../assets/images/trees.png" alt="trees.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-org365879b" class="outline-4">
<h4 id="org365879b">提交过程</h4>
<div class="outline-text-4" id="text-org365879b">
<pre class="example">
//添加到暂存区
$ git add &lt;filename&gt;
$ git add -A
$ git add *

</pre>

<pre class="example">
//提交：实际提交改动
$ git commit -m "Description"

</pre>

<pre class="example">
//推送：提交到远端仓库
$ git push origin master //master为分支名称

</pre>

<pre class="example">
//如果你还没有克隆现有仓库，并欲将你的仓库连接到某个远程服务器，你可以使用如下命令添加：
$ git remote add origin &lt;server&gt;

</pre>
</div>
</div>
<div id="outline-container-orgf9b5fd5" class="outline-4">
<h4 id="orgf9b5fd5">更改提交</h4>
<div class="outline-text-4" id="text-orgf9b5fd5">
<pre class="example">
//回溯历史版本
$ git reset --hard 哈希值

</pre>

<pre class="example">
//冲突解决
//在冲突发生时，往往需要删除其中之一。
$git fetch origin //获取
$git merge origin/master //合并

</pre>

<pre class="example">
//修改提交信息
$ git commit --amend
$ git log --graph //查看提交日志中的相应内容

</pre>

<pre class="example">
//压缩历史提交
$ git rebase -i
$ git rebase -i HEAD~2 //在历史记录中合并为一次完美的提交

</pre>

<pre class="example">
//替换本地改动：假如你操作失误（当然，这最好永远不要发生），你可以使用如下命令替换掉本地改动：
$ git checkout -- &lt;filename&gt;
//此命令会使用 HEAD 中的最新内容替换掉你的工作目录中的文件。已添加到暂存区的改动以及新文件都不会受到影响。

</pre>

<pre class="example">
//假如你想丢弃你在本地的所有改动与提交，可以到服务器上获取最新的版本历史，并将你本地主分支指向它：
$ git fetch origin
$ git reset --hard origin/master

</pre>
</div>
</div>
</div>
<div id="outline-container-orga222a8f" class="outline-3">
<h3 id="orga222a8f">分支</h3>
<div class="outline-text-3" id="text-orga222a8f">
</div>
<div id="outline-container-orgcd7d335" class="outline-4">
<h4 id="orgcd7d335">理解分支</h4>
<div class="outline-text-4" id="text-orgcd7d335">

<div class="figure">
<p><img src="../../../../../assets/images/branches.png" alt="branches.png" />
</p>
</div>

<pre class="example">
1.在 Git 中提交时，会保存一个提交（commit）对象，该对象包含一个指向暂存内容快照的指针，包含本次提交的作者等相关附属信息，
包含零个或多个指向该提交对象的父对象指针：首次提交是没有直接祖先的，普通提交有一个祖先，由两个或多个分支合并产生的提交则有多个祖先。

</pre>

<pre class="example">
2.假设在工作目录中有三个文件，准备将它们暂存后提交。暂存操作会对每一个文件计算校验和（即第一章中提到的 SHA-1 哈希字串），
然后把当前版本的文件快照保存到 Git 仓库中（Git 使用 blob 类型的对象存储这些快照），并将校验和加入暂存区域：
$ git add README test.rb LICENSE
$ git commit -m 'initial commit of my project'

</pre>

<pre class="example">
3.现在，Git 仓库中有五个对象：
三个表示文件快照内容的 blob 对象；
一个记录着目录树内容及其中各个文件对应 blob 对象索引的 tree 对象；
一个包含指向 tree 对象（根目录）的索引和其他提交信息元数据的 commit 对象。

</pre>

<div id="org9331ace" class="figure">
<p><img src="../../../../../assets/images/git-branch01.png" alt="git-branch01.png" />
</p>
<p><span class="figure-number">Figure 5: </span>单个提交对象在仓库中的数据结构</p>
</div>

<pre class="example">
4.作些修改后再次提交，那么这次的提交对象会包含一个指向上次提交对象的指针（译注：即下图中的 parent 对象）。两次提交后，仓库历史会变成下图的样子：

</pre>

<div id="org7729000" class="figure">
<p><img src="../../../../../assets/images/git-branch02.png" alt="git-branch02.png" />
</p>
<p><span class="figure-number">Figure 6: </span>多个提交对象之间的链接关系</p>
</div>

<pre class="example">
5.Git 中的分支，其实本质上仅仅是个指向 commit 对象的可变指针。在若干次提交后，你其实已经有了一个指向最后一次提交对象的 master 分支，它在每次提交的时候都会自动向前移动。

</pre>

<div id="org8a8c944" class="figure">
<p><img src="../../../../../assets/images/git-branch03.png" alt="git-branch03.png" />
</p>
<p><span class="figure-number">Figure 7: </span>分支其实就是从某个提交对象往回看的历史</p>
</div>

<pre class="example">
6.那么，Git 又是如何创建一个新的分支的呢？比如新建一个 test 分支，可以使用 git branch 命令：
$ git branch test
这会在当前 commit 对象上新建一个分支指针，如图：

</pre>

<div id="org7e0e41b" class="figure">
<p><img src="../../../../../assets/images/git-branch04.png" alt="git-branch04.png" />
</p>
<p><span class="figure-number">Figure 8: </span>多个分支指向提交数据的历史</p>
</div>

<pre class="example">
7.那么，Git 是如何知道你当前在哪个分支上工作的呢？它保存着一个名为 HEAD 的特别指针。
在 Git 中，它是一个指向你正在工作中的本地分支的指针（译注：将 HEAD 想象为当前分支的别名）。 
运行git branch 命令，仅仅是建立了一个新的分支，但不会自动切换到这个分支中去，所以，我们依然还在 master 分支里，如图：

</pre>

<div id="orge55ee5a" class="figure">
<p><img src="../../../../../assets/images/git-branch05.png" alt="git-branch05.png" />
</p>
<p><span class="figure-number">Figure 9: </span>HEAD 指向当前所在的分支</p>
</div>

<pre class="example">
8.要切换到其他分支，可以执行 git checkout 命令。切换到新建的 testing 分支：
$ git checkout testing
这样 HEAD 就指向了 testing 分支：

</pre>

<div id="org89b569e" class="figure">
<p><img src="../../../../../assets/images/git-branch06.png" alt="git-branch06.png" />
</p>
<p><span class="figure-number">Figure 10: </span>HEAD 在你转换分支时指向新的分支</p>
</div>

<pre class="example">
9.不妨再提交一次：
$ git commit -a -m 'made a change'
提交后的结果：

</pre>

<div id="org265c10b" class="figure">
<p><img src="../../../../../assets/images/git-branch07.png" alt="git-branch07.png" />
</p>
<p><span class="figure-number">Figure 11: </span>每次提交后 HEAD 随着分支一起向前移动</p>
</div>

<pre class="example">
10.回到 master 分支看看：
$ git checkout master

</pre>

<div id="orgbc6548c" class="figure">
<p><img src="../../../../../assets/images/git-branch08.png" alt="git-branch08.png" />
</p>
<p><span class="figure-number">Figure 12: </span>HEAD 在一次 checkout 之后移动到了另一个分支</p>
</div>

<pre class="example">
这条命令做了两件事。它把 HEAD 指针移回到 master 分支，并把工作目录中的文件换成了 master 分支所指向的快照内容。
也就是说，现在开始所做的改动，将始于本项目中一个较老的版本。它的主要作用是将 testing 分支里作出的修改暂时取消，这样你就可以向另一个方向进行开发。

</pre>

<pre class="example">
11.作些修改后再次提交：
$ git commit -a -m 'made other changes'

</pre>

<div id="orgbd21823" class="figure">
<p><img src="../../../../../assets/images/git-branch09.png" alt="git-branch09.png" />
</p>
<p><span class="figure-number">Figure 13: </span>不同流向的分支历史</p>
</div>

<pre class="example">
12.由于 Git 中的分支实际上仅是一个包含所指对象校验和（40 个字符长度 SHA-1 字串）的文件，所以创建和销毁一个分支就变得非常廉价。

</pre>

<pre class="example">
这和大多数版本控制系统形成了鲜明对比，它们管理分支大多采取备份所有项目文件到特定目录的方式，所以根据项目文件数量和大小不同，
可能花费的时间也会有相当大的差别，快则几秒，慢则数分钟。而 Git 的实现与项目复杂度无关，它永远可以在几毫秒的时间内完成分支的创
建和切换。同时，因为每次提交时都记录了祖先信息（译注：即parent 对象），将来要合并分支时，寻找恰当的合并基础（译注：即共同祖先）
的工作其实已经自然而然地摆在那里了，所以实现起来非常容易。Git 鼓励开发者频繁使用分支，正是因为有着这些特性作保障。

</pre>
</div>
</div>
<div id="outline-container-org7fbd687" class="outline-4">
<h4 id="org7fbd687">分支的创建与切换</h4>
<div class="outline-text-4" id="text-org7fbd687">
<pre class="example">
实际工作中大体也会用到这样的工作流程：正在开发某个网站；为实现某个新的需求，创建了一个分支；正在这个分支上开展工作。
突然，接到一个电话说有个很严重的问题需要紧急修补，那么可以按照下面的方式处理：
1.返回到原先已经发布到生产服务器上的分支。
2.为这次紧急修补建立一个新分支，并在其中修复问题。
3.通过测试后，回到生产服务器所在的分支，将修补分支合并进来，然后再推送到生产服务器上。
4.切换到之前实现新需求的分支，继续工作。

</pre>

<pre class="example">
A.首先，我们假设你正在项目中愉快地工作，并且已经提交了几次更新：

</pre>

<div id="org242753a" class="figure">
<p><img src="../../../../../assets/images/git-branch10.png" alt="git-branch10.png" />
</p>
<p><span class="figure-number">Figure 14: </span>一个简短的提交历史</p>
</div>

<pre class="example">
B.现在，你决定要修补问题追踪系统上的 #53 问题。（这里为了说明要解决的问题，才把新建的分支取名为 iss53。）
$ git checkout -b iss53
//这相当于执行下面这两条命令：
$ git branch iss53
$ git checkout iss53
该命令执行结果：

</pre>

<div id="org16c3bdc" class="figure">
<p><img src="../../../../../assets/images/git-branch11.png" alt="git-branch11.png" />
</p>
<p><span class="figure-number">Figure 15: </span>创建了一个新分支（专门解决53问题）的指针</p>
</div>

<pre class="example">
在提交了若干次更新后，iss53 分支的指针也会随着向前推进。

</pre>

<div id="org87c2950" class="figure">
<p><img src="../../../../../assets/images/git-branch12.png" alt="git-branch12.png" />
</p>
<p><span class="figure-number">Figure 16: </span>iss53 分支随工作进展向前推进</p>
</div>

<pre class="example">
C.现在你就接到了那个网站问题的紧急电话，需要马上修补。
此时，确定你已经提交了所有的修改，接下来切换到 master 分支：
$ git checkout master
切换回主分支后，工作目录中的内容和你在解决问题 #53 之前一模一样，你可以集中精力进行紧急修补。

</pre>

<pre class="example">
特别注意：Git 会把工作目录的内容恢复为检出某分支时它所指向的那个提交对象的快照。它会自动添加、删除和修改文件以确保目录的内容和你当时提交时完全一样。

</pre>

<pre class="example">
创建一个紧急修补分支 hotfix 来开展工作，直到搞定：
$ git checkout -b 'hotfix'

</pre>

<div id="orgaabf848" class="figure">
<p><img src="../../../../../assets/images/git-branch13.png" alt="git-branch13.png" />
</p>
<p><span class="figure-number">Figure 17: </span>hotfix 分支是从 master 分支所在点分化出来的</p>
</div>

<pre class="example">
D.测试，确保修补是成功的。然后回到 master 分支并把它合并进来，然后发布到生产服务器。用 git merge 命令来进行合并：
$ git checkout master
$ git merge hotfix

</pre>
<p>
Updating f42c576..3a0874c
Fast forward
 README |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)
</p>
<pre class="example">
请注意，合并时出现了“Fast forward”的提示。由于当前 master 分支所在的提交对象是要并入的 hotfix 分支的直接上游，Git 只需把master 分支指针直接右移。
换句话说，如果顺着一个分支走下去可以到达另一个分支的话，那么 Git 在合并两者时，只会简单地把指针右移，因为这种单线的历史分支不存在任何需要解决的分歧，所以这种合并过程可以称为快进（Fast forward）。

</pre>

<div id="org468fca8" class="figure">
<p><img src="../../../../../assets/images/git-branch14.png" alt="git-branch14.png" />
</p>
<p><span class="figure-number">Figure 18: </span>合并之后，master 分支和 hotfix 分支指向同一位置</p>
</div>

<pre class="example">
E.在那个超级重要的修补发布以后，你想要回到被打扰之前的工作。
由于当前 hotfix 分支和 master 都指向相同的提交对象，所以hotfix 已经完成了历史使命，可以删掉了。使用 git branch 的 -d 选项执行删除操作：
$ git branch -d &lt;BranchName&gt;

</pre>

<pre class="example">
F.现在回到之前未完成的 #53 问题修复分支上继续工作
$ git checkout iss53

</pre>

<div id="org4a945d0" class="figure">
<p><img src="../../../../../assets/images/git-branch15.png" alt="git-branch15.png" />
</p>
<p><span class="figure-number">Figure 19: </span>iss53 分支可以不受影响继续推进</p>
</div>
</div>
</div>

<div id="outline-container-org16991d4" class="outline-4">
<h4 id="org16991d4">分支的合并</h4>
<div class="outline-text-4" id="text-org16991d4">
<pre class="example">
A.在问题 #53 相关的工作完成之后，可以合并回 master 分支。
$ git checkout master
$ git merge iss53
请注意，这次合并操作的底层实现，并不同于之前 hotfix 的并入方式。如下图所示。

</pre>

<pre class="example">
由于当前 master 分支所指向的提交对象（C4）并不是 iss53 分支的直接祖先，Git 不得不进行一些额外处理。
就此例而言，Git 会用两个分支的末端（C4 和 C5）以及它们的共同祖先（C2）进行一次简单的三方合并计算。

</pre>

<div id="org521be02" class="figure">
<p><img src="../../../../../assets/images/git-branch16.png" alt="git-branch16.png" />
</p>
<p><span class="figure-number">Figure 20: </span>Git 为分支合并自动识别出最佳的同源合并点</p>
</div>

<pre class="example">
Git 没有简单地把分支指针右移，而是对三方合并后的结果重新做一个新的快照，并自动创建一个指向它的提交对象（C6），见下图所示。

</pre>

<div id="org423bfd9" class="figure">
<p><img src="../../../../../assets/images/git-branch17.png" alt="git-branch17.png" />
</p>
<p><span class="figure-number">Figure 21: </span>Git 自动创建了一个包含了合并结果的提交对象</p>
</div>

<pre class="example">
B.既然之前的工作成果已经合并到 master 了，那么 iss53 也就没用了。你可以就此删除它，并在问题追踪系统里关闭该问题。
$ git branch -d iss53

</pre>
</div>
<ul class="org-ul">
<li><a id="orgf19599f"></a>遇到冲突时的分支合并<br />
<div class="outline-text-5" id="text-orgf19599f">
<pre class="example">
有时候合并操作并不会如此顺利。如果在不同的分支中都修改了同一个文件的同一部分，Git 就无法干净地把两者合到一起（译注：逻辑上说，这种问题只能由人来裁决）。

</pre>

<pre class="example">
如果你在解决问题 #53 的过程中修改了hotfix 中修改的部分，将得到类似下面的结果：
$ git merge iss53

</pre>
<p>
Auto-merging index.html
CONFLICT (content): Merge conflict in index.html
Automatic merge failed; fix conflicts and then commit the result.
</p>
<pre class="example">
Git 作了合并，但没有提交，它会停下来等你解决冲突。要看看哪些文件在合并时发生冲突，可以用 git status 查阅：
$ git status

</pre>
<div class="org-src-container">
<pre class="src src-emacs-lisp">index.html: needs merge
# On branch master
# Changed but not updated:
#   (use <span style="color: #5c3566;">"git add </span>
<span style="color: #5c3566;">      ..."</span> to update what will be committed)
#   (use <span style="color: #5c3566;">"git checkout -- </span>
<span style="color: #5c3566;">       ..."</span> to discard changes in working directory)
#
      #unmerged:   index.html
</pre>
</div>
<pre class="example">
任何包含未解决冲突的文件都会以未合并（unmerged）的状态列出。
Git 会在有冲突的文件里加入标准的冲突解决标记，可以通过它们来手工定位并解决这些冲突。可以看到此文件包含类似下面这样的部分：

</pre>
<div class="org-src-container">
<pre class="src src-emacs-lisp">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:index.html
contact : email.support@github.com
=======
please contact us at support@github.com
&gt;&gt;&gt;&gt;&gt;&gt;&gt; iss53:index.html
</pre>
</div>
<pre class="example">
可以看到 ======= 隔开的上半部分，是 HEAD（即 master 分支，在运行merge 命令时所切换到的分支）中的内容，下半部分是在 iss53 分支中的内容。
解决冲突的办法：手动合并；利用合并工具自动合并。自动合并，可以利用有图形界面的工具来解决，运行：
$ git mergetool

</pre>
<p>
merge tool candidates: kdiff3 tkdiff xxdiff meld gvimdiff opendiff emerge vimdiff
Merging the files: index.html
</p>

<p>
Normal merge conflict for 'index.html':
  {local}: modified
  {remote}: modified
Hit return to start merge resolution tool (opendiff):
</p>

<pre class="example">
不想用默认的合并工具，可以在上方”merge tool candidates”里找到可用的合并工具列表，输入你想用的工具名。
再运行一次 git status 来确认所有冲突都已解决：
$ git status

</pre>

<pre class="example">
如果确认所有冲突都已解决，也就是进入了暂存区，就可以用 git commit 来完成这次合并提交。
提交的记录注释差不多是这样：

</pre>
<div class="org-src-container">
<pre class="src src-emacs-lisp">Merge branch 'iss53'

Conflicts:
  index.html
#
# It looks like you may be committing a MERGE.
# If this is not correct, please remove the file
# .git/MERGE_HEAD
# and try again.
#
</pre>
</div>
<pre class="example">
如果想给将来看这次合并的人一些方便，可以修改该信息，提供更多合并细节。

</pre>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgc76a036" class="outline-4">
<h4 id="orgc76a036">分支的管理</h4>
<div class="outline-text-4" id="text-orgc76a036">
<pre class="example">
//git branch 命令不仅仅能创建和删除分支，如果不加任何参数，它会给出当前所有分支的清单：
$ git branch

</pre>

<pre class="example">
//查看各个分支最后一个提交对象的信息
$ git branch -v

</pre>

<pre class="example">
//要从该清单中筛选出你已经（或尚未）与当前分支合并的分支，可以用 --merge 和 --no-merged 选项
$ git branch --merge

</pre>
<p>
  iss53
*master
</p>
<pre class="example">
//列表中没有 * 的分支通常都可以用 git branch -d 来删掉。原因很简单，既然已经把它们所包含的工作整合到了其他分支，删掉也不会损失什么。
//查看尚未合并到当前分支的分支
$ git branch --no-merged
这样就显示还未合并进来的分支列表，如果此时用git branch -d 删除该分支会提示错误，因为那样做会丢失数据：
$ git branch -d testing

</pre>
<p>
error: The branch 'testing' is not an ancestor of your current HEAD.
If you are sure you want to delete it, run 'git branch -D testing'.
</p>
<pre class="example">
// 当然，你也可以用大写 -D 强制执行。

</pre>

<pre class="example">

 
//要更新你的本地仓库至最新改动，执行：
$ git pull

</pre>

<pre class="example">
//要合并其他分支到你的当前分支（例如 master），执行：
$ git merge &lt;branch&gt;

</pre>

<pre class="example">
//在这两种情况下，git 都会尝试去自动合并改动。遗憾的是，这可能并非每次都成功，并可能出现冲突（conflicts）。这时候就需要你修改这些文件来手动合并这些冲突（conflicts）。
//在合并改动之前，你可以使用如下命令预览差异：
$ git diff &lt;source_branch&gt; &lt;target_branch&gt;
//将分支推送到远端仓库$ git push origin &lt;branch&gt;

</pre>
</div>
</div>
</div>
<div id="outline-container-orgee24ab0" class="outline-3">
<h3 id="orgee24ab0">标签</h3>
<div class="outline-text-3" id="text-orgee24ab0">
<pre class="example">
//显示所有标签
$ git tag

</pre>

<pre class="example">
//推荐为软件发布创建标签。这个概念在SVN中也有。你可以执行如下命令创建一个叫做1.0.0的标签:
$ git tag 1.0.0 1b2e1d63ff //1b2e1d63ff是你想要标记的提交 ID 的前 10 位字符。
$ git tag -a V0.1 -m "版本0.1"

</pre>

<pre class="example">
//确认对应内容 
$ git show V0.1

</pre>

<pre class="example">
//可以使用下列命令获取提交 ID：
$ git log

</pre>
</div>
</div>
<div id="outline-container-org531bf4c" class="outline-3">
<h3 id="org531bf4c">日志、差别对比</h3>
<div class="outline-text-3" id="text-org531bf4c">
<pre class="example">
//查看提交日志
$ git log

</pre>

<pre class="example">
//查看所有操作日志
$ git reflog

</pre>

<pre class="example">
//显示文件的改动，不加具体文件可以查看全部文件的改动日志
$ git log -p README.md

</pre>

<pre class="example">
//查看第一行简述日志信息
$ git log --pretty=short

</pre>

<pre class="example">
//只显示指定文件的日志信息
$ git log README.md

</pre>

<pre class="example">
//以图表形式输出分支提交日志
$ git log --graph

</pre>

<pre class="example">
//查看更改前后的差别
$git diff 

</pre>

<pre class="example">
//查看工作树和最新提交的差别
$git diff HEAD

</pre>
</div>
</div>
<div id="outline-container-org25d4fa3" class="outline-3">
<h3 id="org25d4fa3">实用小贴士</h3>
<div class="outline-text-3" id="text-org25d4fa3">
<pre class="example">
//内建的图形化 git：
$ gitk

//彩色的 git 输出：
$ git config color.ui true

//显示历史记录时，每个提交的信息只显示一行：
$ git config format.pretty oneline

//交互式添加文件到暂存区：
$ git add -i

</pre>
</div>
</div>
<div id="outline-container-org7a87b02" class="outline-3">
<h3 id="org7a87b02">.gitignore 文件</h3>
<div class="outline-text-3" id="text-org7a87b02">
<pre class="example">


</pre>
</div>
</div>
</div>
<div id="outline-container-org3d82ff9" class="outline-2">
<h2 id="org3d82ff9">Github Pages搭建网站</h2>
<div class="outline-text-2" id="text-org3d82ff9">
</div>
<div id="outline-container-org3161c35" class="outline-3">
<h3 id="org3161c35">新建仓库搭建</h3>
<div class="outline-text-3" id="text-org3161c35">
<pre class="example">
1.创建个人站点，新建仓库。（注：仓库名必须为【用户名.github.io】）
2.在新建的仓库下，新建index.html文件即可。
注：(1)Github Pages仅支持静态网页;(2)仓库里面只能是.html文件

</pre>
</div>
</div>
<div id="outline-container-org584443b" class="outline-3">
<h3 id="org584443b">项目仓库下搭建</h3>
<div class="outline-text-3" id="text-org584443b">
<pre class="example">
1.进入项目仓库主页，点击settings。
2.找到【Github Pages】，点击【Change theme】，选择主题来自动生成主题页面。
3.访问：https://用户名.github.io/仓库名

</pre>
</div>
</div>
</div>
<div id="outline-container-org0e606ac" class="outline-2">
<h2 id="org0e606ac">参考资料</h2>
<div class="outline-text-2" id="text-org0e606ac">
<pre class="example">
Git分支：http://www.open-open.com/lib/view/open1328069889514.html
https://git-scm.com/book/en/v2
《GitHub入门与实践》[日]大塚弘记  //书籍
https://github.com //GitHub官网
http://www.worldhello.net/gotgit/01-meet-git/050-install-on-windows-cygwin.html //Cygwin for Windows
http://www.bootcss.com/p/git-guide/
http://www.oschina.net/news/12542/git-and-svn

</pre>
</div>
</div>


      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            
            <a href="/tag/#/Subversion" rel="tag"># Subversion</a>
          
            
            <a href="/tag/#/Git" rel="tag"># Git</a>
          
            
            <a href="/tag/#/GitHub" rel="tag"># GitHub</a>
          
        </div>
      

      
      
      
      
      

      
      
        <div class="post-nav" id="post-nav-id">
          <div class="post-nav-next post-nav-item">
            
              <a href="/javascript/2014/09/23/js-notes/" rel="next" title="JavaScript 笔记">
                <i class="fa fa-chevron-left"></i> JavaScript 笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/database/2014/07/18/sql-script/" rel="prev" title="SQL Script">
                SQL Script <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      
      

      
    </footer>
  </article>

  <div class="post-spread">
    
  </div>
</div>


          </div>
          


          

        </div>
        
          

  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        
        
        







      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/assets/images/avatar.gif"
               alt="Zhao Rengui" />
          <p class="site-author-name" itemprop="name">Zhao Rengui</p>
           
              <p class="site-description motion-element" itemprop="description">Life doesn't just happen to you; you receive everything in your life based on what you've given. 生命中的一切都不是巧合，你得到什么，是源于你付出了什么。</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">44</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/">
                <span class="site-state-item-count">44</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
        
        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              
              
              <span class="links-of-author-item">
                <a href="https://github.com/zhaorengui" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              
              
              <span class="links-of-author-item">
                <a href="https://weibo.com/zhaorengui" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            








            
              <div class="post-toc-content">
    <ol class=nav>
      <li class="nav-item nav-level-2"> <a class="nav-link" href="#orgfa9fcd3"> <span class="nav-number">1</span> <span class="nav-text">Subversion</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgf57f991"> <span class="nav-number">1.1</span> <span class="nav-text">下载</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org5102fb5"> <span class="nav-number">1.2</span> <span class="nav-text">TortoiseSVN进行增量发布</span> </a> </li> </ol> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#orgd317888"> <span class="nav-number">2</span> <span class="nav-text">GitHub</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org5c219fd"> <span class="nav-number">2.1</span> <span class="nav-text">简单介绍</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orge1e2b47"> <span class="nav-number">2.2</span> <span class="nav-text">Git vs SVN</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orga565e0f"> <span class="nav-number">2.3</span> <span class="nav-text">一些基本概念</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org9b3c222"> <span class="nav-number">2.4</span> <span class="nav-text">上传代码方式</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org5cffc39"> <span class="nav-number">2.4.1</span> <span class="nav-text">SSH方式传输</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org900a149"> <span class="nav-number">2.4.2</span> <span class="nav-text">HTTPS方式传输</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org2deb100"> <span class="nav-number">2.4.3</span> <span class="nav-text">配置免登录提交代码</span> </a> </li> </ol> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgc04fea6"> <span class="nav-number">2.5</span> <span class="nav-text">开源项目贡献流程</span> </a> </li> </ol> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#orgf61f8c7"> <span class="nav-number">3</span> <span class="nav-text">Git</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org97189dd"> <span class="nav-number">3.1</span> <span class="nav-text">安装&amp;配置</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orge69ed35"> <span class="nav-number">3.2</span> <span class="nav-text">一些基本操作</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org3eb4e72"> <span class="nav-number">3.3</span> <span class="nav-text">提交过程操作</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgb6f8942"> <span class="nav-number">3.3.1</span> <span class="nav-text">工作流</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org365879b"> <span class="nav-number">3.3.2</span> <span class="nav-text">提交过程</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgf9b5fd5"> <span class="nav-number">3.3.3</span> <span class="nav-text">更改提交</span> </a> </li> </ol> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orga222a8f"> <span class="nav-number">3.4</span> <span class="nav-text">分支</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgcd7d335"> <span class="nav-number">3.4.1</span> <span class="nav-text">理解分支</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org7fbd687"> <span class="nav-number">3.4.2</span> <span class="nav-text">分支的创建与切换</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#org16991d4"> <span class="nav-number">3.4.3</span> <span class="nav-text">分支的合并</span> </a> </li> <li class="nav-item nav-level-4"> <a class="nav-link" href="#orgc76a036"> <span class="nav-number">3.4.4</span> <span class="nav-text">分支的管理</span> </a> </li> </ol> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#orgee24ab0"> <span class="nav-number">3.5</span> <span class="nav-text">标签</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org531bf4c"> <span class="nav-number">3.6</span> <span class="nav-text">日志、差别对比</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org25d4fa3"> <span class="nav-number">3.7</span> <span class="nav-text">实用小贴士</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org7a87b02"> <span class="nav-number">3.8</span> <span class="nav-text">.gitignore 文件</span> </a> </li> </ol> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#org3d82ff9"> <span class="nav-number">4</span> <span class="nav-text">Github Pages搭建网站</span> </a> <ol class="nav-child"> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org3161c35"> <span class="nav-number">4.1</span> <span class="nav-text">新建仓库搭建</span> </a> </li> <li class="nav-item nav-level-3"> <a class="nav-link" href="#org584443b"> <span class="nav-number">4.2</span> <span class="nav-text">项目仓库下搭建</span> </a> </li> </ol> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#org0e606ac"> <span class="nav-number">5</span> <span class="nav-text">参考资料</span> </a> </li>
    </ol>
  </div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>

        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zhao Rengui</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://jekyllrb.com">Jekyll</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/simpleyyt/jekyll-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>





















  
   
  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/jquery/index.js?v=2.1.3"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/assets/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/assets/js/src/motion.js?v=5.1.1"></script>



  
  

  <script type="text/javascript" src="/assets/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/assets/js/src/post-details.js?v=5.1.1"></script>


  


  <script type="text/javascript" src="/assets/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  











  




  

    

  





  


  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  


  

  

  

</body>
</html>

